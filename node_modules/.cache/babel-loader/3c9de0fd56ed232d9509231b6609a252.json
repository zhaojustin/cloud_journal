{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nvar Emitter = /*#__PURE__*/function () {\n  function Emitter() {\n    _classCallCheck(this, Emitter);\n\n    Object.defineProperty(this, 'listeners', {\n      value: {},\n      writable: true,\n      configurable: true\n    });\n  }\n\n  _createClass(Emitter, [{\n    key: \"addEventListener\",\n    value: function addEventListener(type, callback, options) {\n      if (!(type in this.listeners)) {\n        this.listeners[type] = [];\n      }\n\n      this.listeners[type].push({\n        callback: callback,\n        options: options\n      });\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(type, callback) {\n      if (!(type in this.listeners)) {\n        return;\n      }\n\n      var stack = this.listeners[type];\n\n      for (var i = 0, l = stack.length; i < l; i++) {\n        if (stack[i].callback === callback) {\n          stack.splice(i, 1);\n          return;\n        }\n      }\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(event) {\n      if (!(event.type in this.listeners)) {\n        return;\n      }\n\n      var stack = this.listeners[event.type];\n      var stackToCall = stack.slice();\n\n      for (var i = 0, l = stackToCall.length; i < l; i++) {\n        var listener = stackToCall[i];\n\n        try {\n          listener.callback.call(this, event);\n        } catch (e) {\n          Promise.resolve().then(function () {\n            throw e;\n          });\n        }\n\n        if (listener.options && listener.options.once) {\n          this.removeEventListener(event.type, listener.callback);\n        }\n      }\n\n      return !event.defaultPrevented;\n    }\n  }]);\n\n  return Emitter;\n}();\n\nvar AbortSignal = /*#__PURE__*/function (_Emitter) {\n  _inherits(AbortSignal, _Emitter);\n\n  var _super = _createSuper(AbortSignal);\n\n  function AbortSignal() {\n    var _this;\n\n    _classCallCheck(this, AbortSignal);\n\n    _this = _super.call(this); // Some versions of babel does not transpile super() correctly for IE <= 10, if the parent\n    // constructor has failed to run, then \"this.listeners\" will still be undefined and then we call\n    // the parent constructor directly instead as a workaround. For general details, see babel bug:\n    // https://github.com/babel/babel/issues/3041\n    // This hack was added as a fix for the issue described here:\n    // https://github.com/Financial-Times/polyfill-library/pull/59#issuecomment-477558042\n\n    if (!_this.listeners) {\n      Emitter.call(_assertThisInitialized(_this));\n    } // Compared to assignment, Object.defineProperty makes properties non-enumerable by default and\n    // we want Object.keys(new AbortController().signal) to be [] for compat with the native impl\n\n\n    Object.defineProperty(_assertThisInitialized(_this), 'aborted', {\n      value: false,\n      writable: true,\n      configurable: true\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'onabort', {\n      value: null,\n      writable: true,\n      configurable: true\n    });\n    return _this;\n  }\n\n  _createClass(AbortSignal, [{\n    key: \"toString\",\n    value: function toString() {\n      return '[object AbortSignal]';\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(event) {\n      if (event.type === 'abort') {\n        this.aborted = true;\n\n        if (typeof this.onabort === 'function') {\n          this.onabort.call(this, event);\n        }\n      }\n\n      _get(_getPrototypeOf(AbortSignal.prototype), \"dispatchEvent\", this).call(this, event);\n    }\n  }]);\n\n  return AbortSignal;\n}(Emitter);\n\nvar AbortController = /*#__PURE__*/function () {\n  function AbortController() {\n    _classCallCheck(this, AbortController); // Compared to assignment, Object.defineProperty makes properties non-enumerable by default and\n    // we want Object.keys(new AbortController()) to be [] for compat with the native impl\n\n\n    Object.defineProperty(this, 'signal', {\n      value: new AbortSignal(),\n      writable: true,\n      configurable: true\n    });\n  }\n\n  _createClass(AbortController, [{\n    key: \"abort\",\n    value: function abort() {\n      var event;\n\n      try {\n        event = new Event('abort');\n      } catch (e) {\n        if (typeof document !== 'undefined') {\n          if (!document.createEvent) {\n            // For Internet Explorer 8:\n            event = document.createEventObject();\n            event.type = 'abort';\n          } else {\n            // For Internet Explorer 11:\n            event = document.createEvent('Event');\n            event.initEvent('abort', false, false);\n          }\n        } else {\n          // Fallback where document isn't available:\n          event = {\n            type: 'abort',\n            bubbles: false,\n            cancelable: false\n          };\n        }\n      }\n\n      this.signal.dispatchEvent(event);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return '[object AbortController]';\n    }\n  }]);\n\n  return AbortController;\n}();\n\nif (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n  // These are necessary to make sure that we get correct output for:\n  // Object.prototype.toString.call(new AbortController())\n  AbortController.prototype[Symbol.toStringTag] = 'AbortController';\n  AbortSignal.prototype[Symbol.toStringTag] = 'AbortSignal';\n}\n\nfunction polyfillNeeded(self) {\n  if (self.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) {\n    console.log('__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill');\n    return true;\n  } // Note that the \"unfetch\" minimal fetch polyfill defines fetch() without\n  // defining window.Request, and this polyfill need to work on top of unfetch\n  // so the below feature detection needs the !self.AbortController part.\n  // The Request.prototype check is also needed because Safari versions 11.1.2\n  // up to and including 12.1.x has a window.AbortController present but still\n  // does NOT correctly implement abortable fetch:\n  // https://bugs.webkit.org/show_bug.cgi?id=174980#c2\n\n\n  return typeof self.Request === 'function' && !self.Request.prototype.hasOwnProperty('signal') || !self.AbortController;\n}\n/**\n * Note: the \"fetch.Request\" default value is available for fetch imported from\n * the \"node-fetch\" package and not in browsers. This is OK since browsers\n * will be importing umd-polyfill.js from that path \"self\" is passed the\n * decorator so the default value will not be used (because browsers that define\n * fetch also has Request). One quirky setup where self.fetch exists but\n * self.Request does not is when the \"unfetch\" minimal fetch polyfill is used\n * on top of IE11; for this case the browser will try to use the fetch.Request\n * default value which in turn will be undefined but then then \"if (Request)\"\n * will ensure that you get a patched fetch but still no Request (as expected).\n * @param {fetch, Request = fetch.Request}\n * @returns {fetch: abortableFetch, Request: AbortableRequest}\n */\n\n\nfunction abortableFetchDecorator(patchTargets) {\n  if ('function' === typeof patchTargets) {\n    patchTargets = {\n      fetch: patchTargets\n    };\n  }\n\n  var _patchTargets = patchTargets,\n      fetch = _patchTargets.fetch,\n      _patchTargets$Request = _patchTargets.Request,\n      NativeRequest = _patchTargets$Request === void 0 ? fetch.Request : _patchTargets$Request,\n      NativeAbortController = _patchTargets.AbortController,\n      _patchTargets$__FORCE = _patchTargets.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,\n      __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL = _patchTargets$__FORCE === void 0 ? false : _patchTargets$__FORCE;\n\n  if (!polyfillNeeded({\n    fetch: fetch,\n    Request: NativeRequest,\n    AbortController: NativeAbortController,\n    __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL: __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL\n  })) {\n    return {\n      fetch: fetch,\n      Request: Request\n    };\n  }\n\n  var Request = NativeRequest; // Note that the \"unfetch\" minimal fetch polyfill defines fetch() without\n  // defining window.Request, and this polyfill need to work on top of unfetch\n  // hence we only patch it if it's available. Also we don't patch it if signal\n  // is already available on the Request prototype because in this case support\n  // is present and the patching below can cause a crash since it assigns to\n  // request.signal which is technically a read-only property. This latter error\n  // happens when you run the main5.js node-fetch example in the repo\n  // \"abortcontroller-polyfill-examples\". The exact error is:\n  //   request.signal = init.signal;\n  //   ^\n  // TypeError: Cannot set property signal of #<Request> which has only a getter\n\n  if (Request && !Request.prototype.hasOwnProperty('signal') || __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) {\n    Request = function Request(input, init) {\n      var signal;\n\n      if (init && init.signal) {\n        signal = init.signal; // Never pass init.signal to the native Request implementation when the polyfill has\n        // been installed because if we're running on top of a browser with a\n        // working native AbortController (i.e. the polyfill was installed due to\n        // __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL being set), then passing our\n        // fake AbortSignal to the native fetch will trigger:\n        // TypeError: Failed to construct 'Request': member signal is not of type AbortSignal.\n\n        delete init.signal;\n      }\n\n      var request = new NativeRequest(input, init);\n\n      if (signal) {\n        Object.defineProperty(request, 'signal', {\n          writable: false,\n          enumerable: false,\n          configurable: true,\n          value: signal\n        });\n      }\n\n      return request;\n    };\n\n    Request.prototype = NativeRequest.prototype;\n  }\n\n  var realFetch = fetch;\n\n  var abortableFetch = function abortableFetch(input, init) {\n    var signal = Request && Request.prototype.isPrototypeOf(input) ? input.signal : init ? init.signal : undefined;\n\n    if (signal) {\n      var abortError;\n\n      try {\n        abortError = new DOMException('Aborted', 'AbortError');\n      } catch (err) {\n        // IE 11 does not support calling the DOMException constructor, use a\n        // regular error object on it instead.\n        abortError = new Error('Aborted');\n        abortError.name = 'AbortError';\n      } // Return early if already aborted, thus avoiding making an HTTP request\n\n\n      if (signal.aborted) {\n        return Promise.reject(abortError);\n      } // Turn an event into a promise, reject it once `abort` is dispatched\n\n\n      var cancellation = new Promise(function (_, reject) {\n        signal.addEventListener('abort', function () {\n          return reject(abortError);\n        }, {\n          once: true\n        });\n      });\n\n      if (init && init.signal) {\n        // Never pass .signal to the native implementation when the polyfill has\n        // been installed because if we're running on top of a browser with a\n        // working native AbortController (i.e. the polyfill was installed due to\n        // __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL being set), then passing our\n        // fake AbortSignal to the native fetch will trigger:\n        // TypeError: Failed to execute 'fetch' on 'Window': member signal is not of type AbortSignal.\n        delete init.signal;\n      } // Return the fastest promise (don't need to wait for request to finish)\n\n\n      return Promise.race([cancellation, realFetch(input, init)]);\n    }\n\n    return realFetch(input, init);\n  };\n\n  return {\n    fetch: abortableFetch,\n    Request: Request\n  };\n}\n\nexports.AbortController = AbortController;\nexports.AbortSignal = AbortSignal;\nexports.abortableFetch = abortableFetchDecorator;","map":{"version":3,"sources":["/Users/justinzhao/Documents/GitHub/cloud_journal/node_modules/abortcontroller-polyfill/dist/cjs-ponyfill.js"],"names":["Object","defineProperty","exports","value","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","call","e","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","arguments","apply","_superPropBase","object","property","hasOwnProperty","_get","receiver","get","base","desc","getOwnPropertyDescriptor","Emitter","addEventListener","type","callback","options","listeners","push","removeEventListener","stack","l","splice","dispatchEvent","event","stackToCall","slice","listener","Promise","resolve","then","once","defaultPrevented","AbortSignal","_Emitter","_super","_this","toString","aborted","onabort","AbortController","abort","Event","document","createEvent","createEventObject","initEvent","bubbles","cancelable","signal","Symbol","toStringTag","polyfillNeeded","__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL","console","log","Request","abortableFetchDecorator","patchTargets","fetch","_patchTargets","_patchTargets$Request","NativeRequest","NativeAbortController","_patchTargets$__FORCE","input","init","request","realFetch","abortableFetch","isPrototypeOf","undefined","abortError","DOMException","err","Error","name","reject","cancellation","_","race"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = _getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get;\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = _superPropBase(target, property);\n\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nvar Emitter = /*#__PURE__*/function () {\n  function Emitter() {\n    _classCallCheck(this, Emitter);\n\n    Object.defineProperty(this, 'listeners', {\n      value: {},\n      writable: true,\n      configurable: true\n    });\n  }\n\n  _createClass(Emitter, [{\n    key: \"addEventListener\",\n    value: function addEventListener(type, callback, options) {\n      if (!(type in this.listeners)) {\n        this.listeners[type] = [];\n      }\n\n      this.listeners[type].push({\n        callback: callback,\n        options: options\n      });\n    }\n  }, {\n    key: \"removeEventListener\",\n    value: function removeEventListener(type, callback) {\n      if (!(type in this.listeners)) {\n        return;\n      }\n\n      var stack = this.listeners[type];\n\n      for (var i = 0, l = stack.length; i < l; i++) {\n        if (stack[i].callback === callback) {\n          stack.splice(i, 1);\n          return;\n        }\n      }\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(event) {\n      if (!(event.type in this.listeners)) {\n        return;\n      }\n\n      var stack = this.listeners[event.type];\n      var stackToCall = stack.slice();\n\n      for (var i = 0, l = stackToCall.length; i < l; i++) {\n        var listener = stackToCall[i];\n\n        try {\n          listener.callback.call(this, event);\n        } catch (e) {\n          Promise.resolve().then(function () {\n            throw e;\n          });\n        }\n\n        if (listener.options && listener.options.once) {\n          this.removeEventListener(event.type, listener.callback);\n        }\n      }\n\n      return !event.defaultPrevented;\n    }\n  }]);\n\n  return Emitter;\n}();\n\nvar AbortSignal = /*#__PURE__*/function (_Emitter) {\n  _inherits(AbortSignal, _Emitter);\n\n  var _super = _createSuper(AbortSignal);\n\n  function AbortSignal() {\n    var _this;\n\n    _classCallCheck(this, AbortSignal);\n\n    _this = _super.call(this); // Some versions of babel does not transpile super() correctly for IE <= 10, if the parent\n    // constructor has failed to run, then \"this.listeners\" will still be undefined and then we call\n    // the parent constructor directly instead as a workaround. For general details, see babel bug:\n    // https://github.com/babel/babel/issues/3041\n    // This hack was added as a fix for the issue described here:\n    // https://github.com/Financial-Times/polyfill-library/pull/59#issuecomment-477558042\n\n    if (!_this.listeners) {\n      Emitter.call(_assertThisInitialized(_this));\n    } // Compared to assignment, Object.defineProperty makes properties non-enumerable by default and\n    // we want Object.keys(new AbortController().signal) to be [] for compat with the native impl\n\n\n    Object.defineProperty(_assertThisInitialized(_this), 'aborted', {\n      value: false,\n      writable: true,\n      configurable: true\n    });\n    Object.defineProperty(_assertThisInitialized(_this), 'onabort', {\n      value: null,\n      writable: true,\n      configurable: true\n    });\n    return _this;\n  }\n\n  _createClass(AbortSignal, [{\n    key: \"toString\",\n    value: function toString() {\n      return '[object AbortSignal]';\n    }\n  }, {\n    key: \"dispatchEvent\",\n    value: function dispatchEvent(event) {\n      if (event.type === 'abort') {\n        this.aborted = true;\n\n        if (typeof this.onabort === 'function') {\n          this.onabort.call(this, event);\n        }\n      }\n\n      _get(_getPrototypeOf(AbortSignal.prototype), \"dispatchEvent\", this).call(this, event);\n    }\n  }]);\n\n  return AbortSignal;\n}(Emitter);\nvar AbortController = /*#__PURE__*/function () {\n  function AbortController() {\n    _classCallCheck(this, AbortController);\n\n    // Compared to assignment, Object.defineProperty makes properties non-enumerable by default and\n    // we want Object.keys(new AbortController()) to be [] for compat with the native impl\n    Object.defineProperty(this, 'signal', {\n      value: new AbortSignal(),\n      writable: true,\n      configurable: true\n    });\n  }\n\n  _createClass(AbortController, [{\n    key: \"abort\",\n    value: function abort() {\n      var event;\n\n      try {\n        event = new Event('abort');\n      } catch (e) {\n        if (typeof document !== 'undefined') {\n          if (!document.createEvent) {\n            // For Internet Explorer 8:\n            event = document.createEventObject();\n            event.type = 'abort';\n          } else {\n            // For Internet Explorer 11:\n            event = document.createEvent('Event');\n            event.initEvent('abort', false, false);\n          }\n        } else {\n          // Fallback where document isn't available:\n          event = {\n            type: 'abort',\n            bubbles: false,\n            cancelable: false\n          };\n        }\n      }\n\n      this.signal.dispatchEvent(event);\n    }\n  }, {\n    key: \"toString\",\n    value: function toString() {\n      return '[object AbortController]';\n    }\n  }]);\n\n  return AbortController;\n}();\n\nif (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n  // These are necessary to make sure that we get correct output for:\n  // Object.prototype.toString.call(new AbortController())\n  AbortController.prototype[Symbol.toStringTag] = 'AbortController';\n  AbortSignal.prototype[Symbol.toStringTag] = 'AbortSignal';\n}\n\nfunction polyfillNeeded(self) {\n  if (self.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) {\n    console.log('__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill');\n    return true;\n  } // Note that the \"unfetch\" minimal fetch polyfill defines fetch() without\n  // defining window.Request, and this polyfill need to work on top of unfetch\n  // so the below feature detection needs the !self.AbortController part.\n  // The Request.prototype check is also needed because Safari versions 11.1.2\n  // up to and including 12.1.x has a window.AbortController present but still\n  // does NOT correctly implement abortable fetch:\n  // https://bugs.webkit.org/show_bug.cgi?id=174980#c2\n\n\n  return typeof self.Request === 'function' && !self.Request.prototype.hasOwnProperty('signal') || !self.AbortController;\n}\n\n/**\n * Note: the \"fetch.Request\" default value is available for fetch imported from\n * the \"node-fetch\" package and not in browsers. This is OK since browsers\n * will be importing umd-polyfill.js from that path \"self\" is passed the\n * decorator so the default value will not be used (because browsers that define\n * fetch also has Request). One quirky setup where self.fetch exists but\n * self.Request does not is when the \"unfetch\" minimal fetch polyfill is used\n * on top of IE11; for this case the browser will try to use the fetch.Request\n * default value which in turn will be undefined but then then \"if (Request)\"\n * will ensure that you get a patched fetch but still no Request (as expected).\n * @param {fetch, Request = fetch.Request}\n * @returns {fetch: abortableFetch, Request: AbortableRequest}\n */\n\nfunction abortableFetchDecorator(patchTargets) {\n  if ('function' === typeof patchTargets) {\n    patchTargets = {\n      fetch: patchTargets\n    };\n  }\n\n  var _patchTargets = patchTargets,\n      fetch = _patchTargets.fetch,\n      _patchTargets$Request = _patchTargets.Request,\n      NativeRequest = _patchTargets$Request === void 0 ? fetch.Request : _patchTargets$Request,\n      NativeAbortController = _patchTargets.AbortController,\n      _patchTargets$__FORCE = _patchTargets.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,\n      __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL = _patchTargets$__FORCE === void 0 ? false : _patchTargets$__FORCE;\n\n  if (!polyfillNeeded({\n    fetch: fetch,\n    Request: NativeRequest,\n    AbortController: NativeAbortController,\n    __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL: __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL\n  })) {\n    return {\n      fetch: fetch,\n      Request: Request\n    };\n  }\n\n  var Request = NativeRequest; // Note that the \"unfetch\" minimal fetch polyfill defines fetch() without\n  // defining window.Request, and this polyfill need to work on top of unfetch\n  // hence we only patch it if it's available. Also we don't patch it if signal\n  // is already available on the Request prototype because in this case support\n  // is present and the patching below can cause a crash since it assigns to\n  // request.signal which is technically a read-only property. This latter error\n  // happens when you run the main5.js node-fetch example in the repo\n  // \"abortcontroller-polyfill-examples\". The exact error is:\n  //   request.signal = init.signal;\n  //   ^\n  // TypeError: Cannot set property signal of #<Request> which has only a getter\n\n  if (Request && !Request.prototype.hasOwnProperty('signal') || __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL) {\n    Request = function Request(input, init) {\n      var signal;\n\n      if (init && init.signal) {\n        signal = init.signal; // Never pass init.signal to the native Request implementation when the polyfill has\n        // been installed because if we're running on top of a browser with a\n        // working native AbortController (i.e. the polyfill was installed due to\n        // __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL being set), then passing our\n        // fake AbortSignal to the native fetch will trigger:\n        // TypeError: Failed to construct 'Request': member signal is not of type AbortSignal.\n\n        delete init.signal;\n      }\n\n      var request = new NativeRequest(input, init);\n\n      if (signal) {\n        Object.defineProperty(request, 'signal', {\n          writable: false,\n          enumerable: false,\n          configurable: true,\n          value: signal\n        });\n      }\n\n      return request;\n    };\n\n    Request.prototype = NativeRequest.prototype;\n  }\n\n  var realFetch = fetch;\n\n  var abortableFetch = function abortableFetch(input, init) {\n    var signal = Request && Request.prototype.isPrototypeOf(input) ? input.signal : init ? init.signal : undefined;\n\n    if (signal) {\n      var abortError;\n\n      try {\n        abortError = new DOMException('Aborted', 'AbortError');\n      } catch (err) {\n        // IE 11 does not support calling the DOMException constructor, use a\n        // regular error object on it instead.\n        abortError = new Error('Aborted');\n        abortError.name = 'AbortError';\n      } // Return early if already aborted, thus avoiding making an HTTP request\n\n\n      if (signal.aborted) {\n        return Promise.reject(abortError);\n      } // Turn an event into a promise, reject it once `abort` is dispatched\n\n\n      var cancellation = new Promise(function (_, reject) {\n        signal.addEventListener('abort', function () {\n          return reject(abortError);\n        }, {\n          once: true\n        });\n      });\n\n      if (init && init.signal) {\n        // Never pass .signal to the native implementation when the polyfill has\n        // been installed because if we're running on top of a browser with a\n        // working native AbortController (i.e. the polyfill was installed due to\n        // __FORCE_INSTALL_ABORTCONTROLLER_POLYFILL being set), then passing our\n        // fake AbortSignal to the native fetch will trigger:\n        // TypeError: Failed to execute 'fetch' on 'Window': member signal is not of type AbortSignal.\n        delete init.signal;\n      } // Return the fastest promise (don't need to wait for request to finish)\n\n\n      return Promise.race([cancellation, realFetch(input, init)]);\n    }\n\n    return realFetch(input, init);\n  };\n\n  return {\n    fetch: abortableFetch,\n    Request: Request\n  };\n}\n\nexports.AbortController = AbortController;\nexports.AbortSignal = AbortSignal;\nexports.abortableFetch = abortableFetchDecorator;\n"]},"metadata":{},"sourceType":"script"}