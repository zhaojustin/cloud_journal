{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nvar isArray_1 = __importDefault(require(\"lodash/isArray\"));\n\nvar isNil_1 = __importDefault(require(\"lodash/isNil\"));\n\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\n/* eslint-enable @typescript-eslint/no-explicit-any */\n// Adapted from jQuery.param:\n// https://github.com/jquery/jquery/blob/2.2-stable/src/serialize.js\n\n\nfunction buildParams(prefix, obj, addFn) {\n  if (isArray_1.default(obj)) {\n    // Serialize array item.\n    for (var index = 0; index < obj.length; index++) {\n      var value = obj[index];\n\n      if (/\\[\\]$/.test(prefix)) {\n        // Treat each array item as a scalar.\n        addFn(prefix, value);\n      } else {\n        // Item is non-scalar (array or object), encode its numeric index.\n        buildParams(prefix + \"[\" + (typeof value === 'object' && value !== null ? index : '') + \"]\", value, addFn);\n      }\n    }\n  } else if (typeof obj === 'object') {\n    // Serialize object item.\n    for (var _i = 0, _a = keys_1.default(obj); _i < _a.length; _i++) {\n      var key = _a[_i];\n      var value = obj[key];\n      buildParams(prefix + \"[\" + key + \"]\", value, addFn);\n    }\n  } else {\n    // Serialize scalar item.\n    addFn(prefix, obj);\n  }\n}\n\nfunction objectToQueryParamString(obj) {\n  var parts = [];\n\n  var addFn = function (key, value) {\n    value = isNil_1.default(value) ? '' : value;\n    parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(value));\n  };\n\n  for (var _i = 0, _a = keys_1.default(obj); _i < _a.length; _i++) {\n    var key = _a[_i];\n    var value = obj[key];\n    buildParams(key, value, addFn);\n  }\n\n  return parts.join('&').replace(/%20/g, '+');\n}\n\nmodule.exports = objectToQueryParamString;","map":{"version":3,"sources":["../src/object_to_query_param_string.ts"],"names":[],"mappings":";;;;;;;;AAAA,IAAA,SAAA,GAAA,eAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CAAA;;AACA,IAAA,OAAA,GAAA,eAAA,CAAA,OAAA,CAAA,cAAA,CAAA,CAAA;;AACA,IAAA,MAAA,GAAA,eAAA,CAAA,OAAA,CAAA,aAAA,CAAA,CAAA;AAIA;AAEA;AACA;;;AACA,SAAS,WAAT,CAAqB,MAArB,EAA6B,GAA7B,EAAkC,KAAlC,EAAuC;AACnC,MAAI,SAAA,CAAA,OAAA,CAAQ,GAAR,CAAJ,EAAkB;AACd;AACA,SAAK,IAAI,KAAK,GAAG,CAAjB,EAAoB,KAAK,GAAG,GAAG,CAAC,MAAhC,EAAwC,KAAK,EAA7C,EAAiD;AAC7C,UAAM,KAAK,GAAG,GAAG,CAAC,KAAD,CAAjB;;AACA,UAAI,QAAQ,IAAR,CAAa,MAAb,CAAJ,EAA0B;AACtB;AACA,QAAA,KAAK,CAAC,MAAD,EAAS,KAAT,CAAL;AACH,OAHD,MAGO;AACH;AACA,QAAA,WAAW,CACJ,MAAM,GAAA,GAAN,IAAU,OAAO,KAAP,KAAiB,QAAjB,IAA6B,KAAK,KAAK,IAAvC,GAA8C,KAA9C,GAAsD,EAAhE,IAAkE,GAD9D,EAEP,KAFO,EAGP,KAHO,CAAX;AAKH;AACJ;AACJ,GAhBD,MAgBO,IAAI,OAAO,GAAP,KAAe,QAAnB,EAA6B;AAChC;AACA,SAAkB,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,MAAA,CAAA,OAAA,CAAK,GAAL,CAAlB,EAAkB,EAAA,GAAA,EAAA,CAAA,MAAlB,EAAkB,EAAA,EAAlB,EAA6B;AAAxB,UAAM,GAAG,GAAA,EAAA,CAAA,EAAA,CAAT;AACD,UAAM,KAAK,GAAG,GAAG,CAAC,GAAD,CAAjB;AACA,MAAA,WAAW,CAAI,MAAM,GAAA,GAAN,GAAU,GAAV,GAAa,GAAjB,EAAsB,KAAtB,EAA6B,KAA7B,CAAX;AACH;AACJ,GANM,MAMA;AACH;AACA,IAAA,KAAK,CAAC,MAAD,EAAS,GAAT,CAAL;AACH;AACJ;;AAED,SAAS,wBAAT,CAAkC,GAAlC,EAAkD;AAC9C,MAAM,KAAK,GAAG,EAAd;;AACA,MAAM,KAAK,GAAG,UAAC,GAAD,EAAM,KAAN,EAAW;AACrB,IAAA,KAAK,GAAG,OAAA,CAAA,OAAA,CAAM,KAAN,IAAe,EAAf,GAAoB,KAA5B;AACA,IAAA,KAAK,CAAC,IAAN,CAAc,kBAAkB,CAAC,GAAD,CAAlB,GAAuB,GAAvB,GAA2B,kBAAkB,CAAC,KAAD,CAA3D;AACH,GAHD;;AAKA,OAAkB,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,MAAA,CAAA,OAAA,CAAK,GAAL,CAAlB,EAAkB,EAAA,GAAA,EAAA,CAAA,MAAlB,EAAkB,EAAA,EAAlB,EAA6B;AAAxB,QAAM,GAAG,GAAA,EAAA,CAAA,EAAA,CAAT;AACD,QAAM,KAAK,GAAG,GAAG,CAAC,GAAD,CAAjB;AACA,IAAA,WAAW,CAAC,GAAD,EAAM,KAAN,EAAa,KAAb,CAAX;AACH;;AAED,SAAO,KAAK,CAAC,IAAN,CAAW,GAAX,EAAgB,OAAhB,CAAwB,MAAxB,EAAgC,GAAhC,CAAP;AACH;;AAED,MAAA,CAAA,OAAA,GAAS,wBAAT","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar isArray_1 = __importDefault(require(\"lodash/isArray\"));\nvar isNil_1 = __importDefault(require(\"lodash/isNil\"));\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\n/* eslint-enable @typescript-eslint/no-explicit-any */\n// Adapted from jQuery.param:\n// https://github.com/jquery/jquery/blob/2.2-stable/src/serialize.js\nfunction buildParams(prefix, obj, addFn) {\n    if (isArray_1.default(obj)) {\n        // Serialize array item.\n        for (var index = 0; index < obj.length; index++) {\n            var value = obj[index];\n            if (/\\[\\]$/.test(prefix)) {\n                // Treat each array item as a scalar.\n                addFn(prefix, value);\n            }\n            else {\n                // Item is non-scalar (array or object), encode its numeric index.\n                buildParams(prefix + \"[\" + (typeof value === 'object' && value !== null ? index : '') + \"]\", value, addFn);\n            }\n        }\n    }\n    else if (typeof obj === 'object') {\n        // Serialize object item.\n        for (var _i = 0, _a = keys_1.default(obj); _i < _a.length; _i++) {\n            var key = _a[_i];\n            var value = obj[key];\n            buildParams(prefix + \"[\" + key + \"]\", value, addFn);\n        }\n    }\n    else {\n        // Serialize scalar item.\n        addFn(prefix, obj);\n    }\n}\nfunction objectToQueryParamString(obj) {\n    var parts = [];\n    var addFn = function (key, value) {\n        value = isNil_1.default(value) ? '' : value;\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(value));\n    };\n    for (var _i = 0, _a = keys_1.default(obj); _i < _a.length; _i++) {\n        var key = _a[_i];\n        var value = obj[key];\n        buildParams(key, value, addFn);\n    }\n    return parts.join('&').replace(/%20/g, '+');\n}\nmodule.exports = objectToQueryParamString;\n"]},"metadata":{},"sourceType":"script"}