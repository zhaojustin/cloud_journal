{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nvar base_1 = __importDefault(require(\"./base\"));\n\nvar record_1 = __importDefault(require(\"./record\"));\n\nvar table_1 = __importDefault(require(\"./table\"));\n\nvar airtable_error_1 = __importDefault(require(\"./airtable_error\"));\n\nvar Airtable =\n/** @class */\nfunction () {\n  function Airtable(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n\n    var defaultConfig = Airtable.default_config();\n    var apiVersion = opts.apiVersion || Airtable.apiVersion || defaultConfig.apiVersion;\n    Object.defineProperties(this, {\n      _apiKey: {\n        value: opts.apiKey || Airtable.apiKey || defaultConfig.apiKey\n      },\n      _apiVersion: {\n        value: apiVersion\n      },\n      _apiVersionMajor: {\n        value: apiVersion.split('.')[0]\n      },\n      _customHeaders: {\n        value: opts.customHeaders || {}\n      },\n      _endpointUrl: {\n        value: opts.endpointUrl || Airtable.endpointUrl || defaultConfig.endpointUrl\n      },\n      _noRetryIfRateLimited: {\n        value: opts.noRetryIfRateLimited || Airtable.noRetryIfRateLimited || defaultConfig.noRetryIfRateLimited\n      },\n      _requestTimeout: {\n        value: opts.requestTimeout || Airtable.requestTimeout || defaultConfig.requestTimeout\n      }\n    });\n\n    if (!this._apiKey) {\n      throw new Error('An API key is required to connect to Airtable');\n    }\n  }\n\n  Airtable.prototype.base = function (baseId) {\n    return base_1.default.createFunctor(this, baseId);\n  };\n\n  Airtable.default_config = function () {\n    return {\n      endpointUrl: process.env.AIRTABLE_ENDPOINT_URL || 'https://api.airtable.com',\n      apiVersion: '0.1.0',\n      apiKey: process.env.AIRTABLE_API_KEY,\n      noRetryIfRateLimited: false,\n      requestTimeout: 300 * 1000\n    };\n  };\n\n  Airtable.configure = function (_a) {\n    var apiKey = _a.apiKey,\n        endpointUrl = _a.endpointUrl,\n        apiVersion = _a.apiVersion,\n        noRetryIfRateLimited = _a.noRetryIfRateLimited,\n        requestTimeout = _a.requestTimeout;\n    Airtable.apiKey = apiKey;\n    Airtable.endpointUrl = endpointUrl;\n    Airtable.apiVersion = apiVersion;\n    Airtable.noRetryIfRateLimited = noRetryIfRateLimited;\n    Airtable.requestTimeout = requestTimeout;\n  };\n\n  Airtable.base = function (baseId) {\n    return new Airtable().base(baseId);\n  };\n\n  Airtable.Base = base_1.default;\n  Airtable.Record = record_1.default;\n  Airtable.Table = table_1.default;\n  Airtable.Error = airtable_error_1.default;\n  return Airtable;\n}();\n\nmodule.exports = Airtable;","map":{"version":3,"sources":["../src/airtable.ts"],"names":[],"mappings":"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","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar base_1 = __importDefault(require(\"./base\"));\nvar record_1 = __importDefault(require(\"./record\"));\nvar table_1 = __importDefault(require(\"./table\"));\nvar airtable_error_1 = __importDefault(require(\"./airtable_error\"));\nvar Airtable = /** @class */ (function () {\n    function Airtable(opts) {\n        if (opts === void 0) { opts = {}; }\n        var defaultConfig = Airtable.default_config();\n        var apiVersion = opts.apiVersion || Airtable.apiVersion || defaultConfig.apiVersion;\n        Object.defineProperties(this, {\n            _apiKey: {\n                value: opts.apiKey || Airtable.apiKey || defaultConfig.apiKey,\n            },\n            _apiVersion: {\n                value: apiVersion,\n            },\n            _apiVersionMajor: {\n                value: apiVersion.split('.')[0],\n            },\n            _customHeaders: {\n                value: opts.customHeaders || {},\n            },\n            _endpointUrl: {\n                value: opts.endpointUrl || Airtable.endpointUrl || defaultConfig.endpointUrl,\n            },\n            _noRetryIfRateLimited: {\n                value: opts.noRetryIfRateLimited ||\n                    Airtable.noRetryIfRateLimited ||\n                    defaultConfig.noRetryIfRateLimited,\n            },\n            _requestTimeout: {\n                value: opts.requestTimeout || Airtable.requestTimeout || defaultConfig.requestTimeout,\n            },\n        });\n        if (!this._apiKey) {\n            throw new Error('An API key is required to connect to Airtable');\n        }\n    }\n    Airtable.prototype.base = function (baseId) {\n        return base_1.default.createFunctor(this, baseId);\n    };\n    Airtable.default_config = function () {\n        return {\n            endpointUrl: process.env.AIRTABLE_ENDPOINT_URL || 'https://api.airtable.com',\n            apiVersion: '0.1.0',\n            apiKey: process.env.AIRTABLE_API_KEY,\n            noRetryIfRateLimited: false,\n            requestTimeout: 300 * 1000,\n        };\n    };\n    Airtable.configure = function (_a) {\n        var apiKey = _a.apiKey, endpointUrl = _a.endpointUrl, apiVersion = _a.apiVersion, noRetryIfRateLimited = _a.noRetryIfRateLimited, requestTimeout = _a.requestTimeout;\n        Airtable.apiKey = apiKey;\n        Airtable.endpointUrl = endpointUrl;\n        Airtable.apiVersion = apiVersion;\n        Airtable.noRetryIfRateLimited = noRetryIfRateLimited;\n        Airtable.requestTimeout = requestTimeout;\n    };\n    Airtable.base = function (baseId) {\n        return new Airtable().base(baseId);\n    };\n    Airtable.Base = base_1.default;\n    Airtable.Record = record_1.default;\n    Airtable.Table = table_1.default;\n    Airtable.Error = airtable_error_1.default;\n    return Airtable;\n}());\nmodule.exports = Airtable;\n"]},"metadata":{},"sourceType":"script"}