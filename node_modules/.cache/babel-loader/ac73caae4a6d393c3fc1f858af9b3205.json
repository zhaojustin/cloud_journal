{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\n\nvar isBrowser = typeof window !== 'undefined';\n\nvar HttpHeaders =\n/** @class */\nfunction () {\n  function HttpHeaders() {\n    this._headersByLowercasedKey = {};\n  }\n\n  HttpHeaders.prototype.set = function (headerKey, headerValue) {\n    var lowercasedKey = headerKey.toLowerCase();\n\n    if (lowercasedKey === 'x-airtable-user-agent') {\n      lowercasedKey = 'user-agent';\n      headerKey = 'User-Agent';\n    }\n\n    this._headersByLowercasedKey[lowercasedKey] = {\n      headerKey: headerKey,\n      headerValue: headerValue\n    };\n  };\n\n  HttpHeaders.prototype.toJSON = function () {\n    var result = {};\n\n    for (var _i = 0, _a = keys_1.default(this._headersByLowercasedKey); _i < _a.length; _i++) {\n      var lowercasedKey = _a[_i];\n      var headerDefinition = this._headersByLowercasedKey[lowercasedKey];\n      var headerKey = void 0;\n      /* istanbul ignore next */\n\n      if (isBrowser && lowercasedKey === 'user-agent') {\n        // Some browsers do not allow overriding the user agent.\n        // https://github.com/Airtable/airtable.js/issues/52\n        headerKey = 'X-Airtable-User-Agent';\n      } else {\n        headerKey = headerDefinition.headerKey;\n      }\n\n      result[headerKey] = headerDefinition.headerValue;\n    }\n\n    return result;\n  };\n\n  return HttpHeaders;\n}();\n\nmodule.exports = HttpHeaders;","map":{"version":3,"sources":["../src/http_headers.ts"],"names":[],"mappings":";;;;;;;;AAAA,IAAA,MAAA,GAAA,eAAA,CAAA,OAAA,CAAA,aAAA,CAAA,CAAA;;AAEA,IAAM,SAAS,GAAG,OAAO,MAAP,KAAkB,WAApC;;AAEA,IAAA,WAAA;AAAA;AAAA,YAAA;AAGI,WAAA,WAAA,GAAA;AACI,SAAK,uBAAL,GAA+B,EAA/B;AACH;;AAED,EAAA,WAAA,CAAA,SAAA,CAAA,GAAA,GAAA,UAAI,SAAJ,EAAuB,WAAvB,EAA0C;AACtC,QAAI,aAAa,GAAG,SAAS,CAAC,WAAV,EAApB;;AAEA,QAAI,aAAa,KAAK,uBAAtB,EAA+C;AAC3C,MAAA,aAAa,GAAG,YAAhB;AACA,MAAA,SAAS,GAAG,YAAZ;AACH;;AAED,SAAK,uBAAL,CAA6B,aAA7B,IAA8C;AAC1C,MAAA,SAAS,EAAA,SADiC;AAE1C,MAAA,WAAW,EAAA;AAF+B,KAA9C;AAIH,GAZD;;AAcA,EAAA,WAAA,CAAA,SAAA,CAAA,MAAA,GAAA,YAAA;AACI,QAAM,MAAM,GAAG,EAAf;;AACA,SAA4B,IAAA,EAAA,GAAA,CAAA,EAAA,EAAA,GAAA,MAAA,CAAA,OAAA,CAAK,KAAK,uBAAV,CAA5B,EAA4B,EAAA,GAAA,EAAA,CAAA,MAA5B,EAA4B,EAAA,EAA5B,EAAgE;AAA3D,UAAM,aAAa,GAAA,EAAA,CAAA,EAAA,CAAnB;AACD,UAAM,gBAAgB,GAAG,KAAK,uBAAL,CAA6B,aAA7B,CAAzB;AAEA,UAAI,SAAS,GAAA,KAAA,CAAb;AACA;;AACA,UAAI,SAAS,IAAI,aAAa,KAAK,YAAnC,EAAiD;AAC7C;AACA;AACA,QAAA,SAAS,GAAG,uBAAZ;AACH,OAJD,MAIO;AACH,QAAA,SAAS,GAAG,gBAAgB,CAAC,SAA7B;AACH;;AAED,MAAA,MAAM,CAAC,SAAD,CAAN,GAAoB,gBAAgB,CAAC,WAArC;AACH;;AACD,WAAO,MAAP;AACH,GAlBD;;AAmBJ,SAAA,WAAA;AAAC,CAxCD,EAAA;;AA0CA,MAAA,CAAA,OAAA,GAAS,WAAT","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar keys_1 = __importDefault(require(\"lodash/keys\"));\nvar isBrowser = typeof window !== 'undefined';\nvar HttpHeaders = /** @class */ (function () {\n    function HttpHeaders() {\n        this._headersByLowercasedKey = {};\n    }\n    HttpHeaders.prototype.set = function (headerKey, headerValue) {\n        var lowercasedKey = headerKey.toLowerCase();\n        if (lowercasedKey === 'x-airtable-user-agent') {\n            lowercasedKey = 'user-agent';\n            headerKey = 'User-Agent';\n        }\n        this._headersByLowercasedKey[lowercasedKey] = {\n            headerKey: headerKey,\n            headerValue: headerValue,\n        };\n    };\n    HttpHeaders.prototype.toJSON = function () {\n        var result = {};\n        for (var _i = 0, _a = keys_1.default(this._headersByLowercasedKey); _i < _a.length; _i++) {\n            var lowercasedKey = _a[_i];\n            var headerDefinition = this._headersByLowercasedKey[lowercasedKey];\n            var headerKey = void 0;\n            /* istanbul ignore next */\n            if (isBrowser && lowercasedKey === 'user-agent') {\n                // Some browsers do not allow overriding the user agent.\n                // https://github.com/Airtable/airtable.js/issues/52\n                headerKey = 'X-Airtable-User-Agent';\n            }\n            else {\n                headerKey = headerDefinition.headerKey;\n            }\n            result[headerKey] = headerDefinition.headerValue;\n        }\n        return result;\n    };\n    return HttpHeaders;\n}());\nmodule.exports = HttpHeaders;\n"]},"metadata":{},"sourceType":"script"}